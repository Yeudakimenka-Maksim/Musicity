@model Mvc.PL.ViewModels.TopicPage.TopicPageTopicViewModel

@{
    ViewBag.Title = "Musicity - " + Model.Name + " Posts";
}
@using (Html.BeginForm())
{
    <fieldset>
        <legend>@Model.Name</legend>
        @if (Model.Posts != null)
        {
            foreach (var post in Model.Posts)
            {
                @Html.Partial("PostSummary", post)
            }
        }
        @if (HttpContext.Current.User.Identity.IsAuthenticated)
        {
            <div id="footer">
                @Html.RouteLink("+ New post", new { controller = "Musicity", action = "CreatePost", topic = Model.Name }, new { style = "background-color:#333;border:1px solid black;color:White;line-height:4.5em;padding:0.4em 1em;text-decoration:none;" })
            </div>
        }
    </fieldset>
}